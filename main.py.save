import scrollphathd as sphd
import time

from envirophat import weather,light,leds

print light.light()
print light.rgb()
print(weather.temperature())
print(weather.pressure())

import time
from enirophat import light, motion, weather, leds

# Log
out = open('enviro.log', 'w')
out.write('light\trgb\tmotion\theading\ttemp\tpress\n')

try:
    while True:
        lux = light.light()
        leds.on()
        rgb = str(light.rgb())[1:-1].replace(' ', '')
        leds.off()
        acc = str(motion.accelerometer())[1:-1].replace(' ', '')
        heading = motion.heading()
        temp = weather.temperature()
        press = weather.pressure()
        out.write('%f\t%s\t%s\t%f\t%f\t%f\n' % (lux, rgb, acc, heading, temp, press))
        time.sleep(1)

except KeyboardInterrupt:
    leds.off()
    out.close()


while True:
    for x in range(17):
        sphd.clear()
        for y in range(7):
            sphd.set_pixel(x, y, 0.25)
        sphd.show()
        time.sleep(1/17.0)


